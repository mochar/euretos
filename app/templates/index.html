{% extends "layout.html" %}

{% block body %}
{% include 'templates.html' %}

<div class="pure-g">
    <div class="pure-u-1-3" id="left">
        <div class="pure-g" id="tabs">
            <div class="pure-u-1-5">
                <button class="button button-block"
                        data-bind="click: function() {tab('graph'); },
                                    css: tab() === 'graph' ? 'button-selected' : 'button-styled'">
                        Graph</button>
            </div>
            <div class="pure-u-2-5"></div>
            <div class="pure-u-1-5">
                <button class="button button-block"
                        data-bind="click: function() {tab('genes'); },
                                    css: tab() === 'genes' ? 'button-selected' : 'button-styled'">
                        Genes</button>
            </div>
            <div class="pure-u-1-5">
                <button class="button button-block"
                        data-bind="click: function() {tab('metabolites'); },
                                    css: tab() === 'metabolites' ? 'button-selected' : 'button-styled'">
                        Metabolites</button>
            </div>
        </div>
        
        <div id="result">
            <div data-bind="visible: tab() === 'graph'">
                {% include 'graph-tab.html' %}
            </div>
            
            <div class="table-container" id="genes"
                data-bind="template: { name: 'table-template', 
                                        data: geneTable,
                                        if: tab() === 'genes' }">
            </div>
            
            <div class="table-container" id="metabolites"
                data-bind="template: { name: 'table-template', 
                                        data: metaboliteTable,
                                        if: tab() === 'metabolites' }">
            </div>
        </div>
    </div>

    <div class="pure-u-2-3" id="right">
        <div class="panel" id="graph">
            <button class="button button-primary button-block graph-button"
                    data-bind="click: updateChart, enable: dirty" disabled>UPDATE</button>
            <button class="button button-transparent button-block graph-button" 
                    style="top: 3em; border: 1px solid #bbb"
                    data-bind="click: function() { focus(!focus()); }, enable: selectedConcept">
                <span class="fa fa-eye"></span>
            </button>
            {% include 'focus-graph.html' %}
        </div>
    </div>
</div>

{% endblock %}